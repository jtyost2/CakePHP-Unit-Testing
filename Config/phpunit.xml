<phpunit
	colors="true"
>
	<filter>
		<blacklist>
			<!-- Exclude test directory itself and composer-installed deps. -->
			<directory>../Config</directory>
			<directory>../tmp</directory>
			<directory>../Test</directory>
			<directory>../Vendor</directory>
			<directory>../Plugin/DebugKit</directory>
			<directory>../Plugin/Migrations</directory>
			<!-- Project-specific exclusions. -->
			<directory>../View</directory>
			<exclude>
				<directory>../View/Helper</directory>
			</exclude>
		</blacklist>

		<!-- Whitelisting is recommended, but has side effects for source files without counterpart test files **even with** @codeCoverageIgnore annotations.
		<whitelist processUncoveredFilesFromWhitelist="true">
			<directory suffix=".php">../Console</directory>
			<directory suffix=".php">../Controller</directory>
			<directory suffix=".php">../Lib</directory>
			<directory suffix=".php">../Model</directory>
			<directory suffix=".php">../View/Helper</directory>
			<directory suffix=".php">../Plugin</directory>
			<exclude>
				<directory>../Plugin/DebugKit</directory>
				<directory>../Plugin/Migrations</directory>
			</exclude>
		</whitelist>
		-->
	</filter>

	<logging>
		<!-- HTML reports exported for viewing. -->
		<log
			type="coverage-html"
			target="../tmp/coverage/html/"
			charset="UTF-8"
			highlight="true"
			lowUpperBound="60"
			highLowerBound="90"
		/>
		<!-- Text report used by travis helpers to generate the proper coverage badge. -->
		<log
			type="coverage-text"
			target="../tmp/coverage/report.txt"
			lowUpperBound="60"
			highLowerBound="90"
		/>
		<!-- Not currently used. -->
		<!-- <log
			type="coverage-clover"
			target="../tmp/coverage/clover.xml"
		/> -->
	</logging>
</phpunit>
